<!DOCTYPE html>
<!-- saved from url=(0054)https://bootstrapious.com/tutorial/sidebar/index5.html -->
<html class="fontawesome-i2svg-active fontawesome-i2svg-complete"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Collapsible sidebar using Bootstrap 4</title>

    <!-- Bootstrap CSS CDN -->
    <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style><link rel="stylesheet" href="./Collapsible sidebar using Bootstrap 4_files/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->


    <!-- Font Awesome JS -->
    <script defer="" src="solid.js.download" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer="" src="fontawesome.js.download" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <link href="Dashbord.css" rel="stylesheet">
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="jquery.min.js"></script>
    <script src="popper.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <link href="bootstrap.min.css" rel="stylesheet">

</head>
<style>

table {
  width:100%;
}
table, th, td {
  border: 2px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 15px;
  text-align: left;
}
table tr:nth-child(even) {
  background-color: rgb(250, 239, 255);
}
table tr:nth-child(odd) {
 background-color: #fff;
}
table th {
  background-color: black;
  color: white;
}   

</style>
<body>

    <div  class="wrapper"> 
        <!-- Sidebar Holder -->
        <nav  style="background-color:#9A12B3; position: fixed; height: 1080px; top:0px;"  id="sidebar" class="">
            
          <div style="background-color: #9A12B3; margin-top:0px;" class="sidebar-header ">
              <img src="logo.png"  width="60px" style="margin-left: -15px; margin-top: -14px; position: fixed;" alt="logo" />
              <h3 style="margin-left: 60px;">AXILEARN  </h3> 
             
          </div>

          <ul class="list-unstyled components">
              <p></p>
              <li >
                  <a style="color: white;" href="DASHBROD.html"><i class="fa fa-home"></i>  Home</a>
              </li>
              <li>
                  <a style="color: white;" href="AboutX.html"><i class="fa fa-users" aria-hidden="true"></i>  About</a>
                 
              </li>
              <li>
                  <a style="color: white;" href="NetWorkReport.html"><i class="fa fa-rss-square" aria-hidden="true"></i> Network report</a>
              </li>
              <li>
                  <a style="color: white;" href="ContactX.html"><i class="fa fa-phone-square" aria-hidden="true"></i>  Contact</a>
              </li>
          </ul>

          <ul class="list-unstyled CTAs">
              <li>
                  <a style="color: black;" href="index.html" class="download">Sign out</a>
              </li>
              
          </ul>
      </nav>
        <!-- Page Content Holder -->
        <div id="content" style="background-color: #ECF0F1  ;">

          <div style="width : 700px; margin-left: 300px;">

            
            <canvas  id="bar-chart" width="800" height="450"  ></canvas>
            <canvas id="line-chart" width="800" height="450"></canvas>
          </div>

          <div style=" margin-left: 700px; width: 0px;  " class="content">
            <table id="tbl_users_list"  style="visibility: hidden;"  >
                <tr>
                  <td><b>UserID</b></td>
                  <td><b>Name</b></td>
                
                </tr>
                </table>
                <table id="tbl_users_list2" style="visibility: hidden;"  >
                    <tr>
                      <td><b>UserID</b></td>
                      <td><b>Name</b></td>
                    
                    </tr>
                    </table>
                  </table>
                  <table id="tbl_users_list3" style="visibility: hidden;"  >
                      <tr>
                        <td><b>UserID</b></td>
                        <td><b>Name</b></td>
                      
                      </tr>
                      </table>
                
          </div>     
        <button id="btn1" onclick="clicks();" >
       Show Chart
        </button>
           
    </div>
    
  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-database.js"></script>

    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="jquery-3.3.1.slim.min.js.download" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="popper.min.js.download" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="bootstrap.min.js.download" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
                $(this).toggleClass('active');
            });
        });

        var firebaseConfig = {
    apiKey: "AIzaSyD6xHZL-JydpDai1TiwJGALEmb7BcZh-fc",
    authDomain: "axilearnv1.firebaseapp.com",
    databaseURL: "https://axilearnv1.firebaseio.com",
    projectId: "axilearnv1",
    storageBucket: "axilearnv1.appspot.com",
    messagingSenderId: "102666534508",
    appId: "1:102666534508:web:0f4e8eed826ad98b48a249"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
  var database = firebase.database();   
  const rootRef = database.ref('profiles');
  
  const rootRefNEw = database.ref('Reports');
  
  const rootRefNEw2 = database.ref('usage/study_materials/count');


  var m1=null ;
  var m2=null ;
  var m3=null ;
  var m4=null ;
  var m5=null ;
  var m6=null ;
  var m7=null ;
  var m8=null ;
  var m9=null ;
  var m10=null ;
  var m11=null ;
  var m12=null ;

  var bus=null;
  var hel=null;
  var ict=null;
  var lit=null;
  var mat=null;
  var sin=null;
 





  var tblUsers=document.getElementById('tbl_users_list');
  
  var tblUsers2=document.getElementById('tbl_users_list2');

  var tblUsers3=document.getElementById('tbl_users_list3');

  var rowIndex = 1;
  var rowCount=0 ;

  var d = new Date();
  var monthR = d.getMonth();
  var yearR = d.getFullYear();

  rootRef.once('value', function(snapshot) {
  snapshot.forEach(function(childSnapshot) {
    var childKey = childSnapshot.key;
    var childData = childSnapshot.val();
    

    var row = tblUsers.insertRow(rowIndex);
    var cellID = row.insertCell(0);
    var cellName = row.insertCell(1);
    cellID.appendChild(document.createTextNode(childKey));
    cellName.appendChild(document.createTextNode(childData.username));

    rowIndex= rowIndex + 1;
    rowCount= rowCount +1
    
  });
}) 
    var rowIndex2 = 1;

    rootRefNEw.once('value', function(snapshot) {
  snapshot.forEach(function(childSnapshot) {
    var childKey = childSnapshot.key;
    var childData = childSnapshot.val();
    

    var row = tblUsers2.insertRow(rowIndex2);
    var cellID = row.insertCell(0);
    var cellName = row.insertCell(1);
    cellID.appendChild(document.createTextNode(childKey));
    cellName.appendChild(document.createTextNode(childData.countProfile));

    rowIndex2= rowIndex2 + 1;
  
    
  });

})

var rowIndex3 = 1;

rootRefNEw2.once('value', function(snapshot) {
  snapshot.forEach(function(childSnapshot) {
    var childKey = childSnapshot.key;
    var childData = childSnapshot.val();
    

    var row = tblUsers3.insertRow(rowIndex3);
    var cellID = row.insertCell(0);
    var cellName = row.insertCell(1);
    cellID.appendChild(document.createTextNode(childKey));
    cellName.appendChild(document.createTextNode(childData.countValue));

    rowIndex3= rowIndex3 + 1;
  
    
  });

})

time = 5;

interval = setInterval(function() {
    time--;

    if (time == 0) {
        // stop timer
        clearInterval(interval);
        // click
        document.getElementById('btn1').click();            
    }
}, 1000)

   
function clicks(){

  if(monthR==0){
    rootRefNEw.child(1).remove()
    rootRefNEw.child(2).remove()
    rootRefNEw.child(3).remove()
    rootRefNEw.child(4).remove()
    rootRefNEw.child(5).remove()
    rootRefNEw.child(6).remove()
    rootRefNEw.child(7).remove()
    rootRefNEw.child(8).remove()
    rootRefNEw.child(9).remove()
    rootRefNEw.child(10).remove()
    rootRefNEw.child(11).remove()
  }

  rootRefNEw.child(monthR).set({
           countProfile:rowCount
      })

  if(monthR>=0){
    m1 = document.getElementById("tbl_users_list2").rows[1].cells.item(1).innerHTML;
  }
  if(monthR>=1){
    m2 = document.getElementById("tbl_users_list2").rows[2].cells.item(1).innerHTML;
  }
  if(monthR>=2){
    m3 = document.getElementById("tbl_users_list2").rows[3].cells.item(1).innerHTML;
  }
  if(monthR>=3){
    m4 = document.getElementById("tbl_users_list2").rows[4].cells.item(1).innerHTML;
  }
  if(monthR>=4){
    m5 = document.getElementById("tbl_users_list2").rows[5].cells.item(1).innerHTML;
  }
  if(monthR>=5){
    m6 = document.getElementById("tbl_users_list2").rows[6].cells.item(1).innerHTML;
  }
  if(monthR>=6){
    m7 = document.getElementById("tbl_users_list2").rows[7].cells.item(1).innerHTML;
  }
  if(monthR>=7){
    m8 = document.getElementById("tbl_users_list2").rows[8].cells.item(1).innerHTML;
  }
  if(monthR>=8){
    m9 = document.getElementById("tbl_users_list2").rows[9].cells.item(1).innerHTML;
  }
  if(monthR>=9){
    m10 = document.getElementById("tbl_users_list2").rows[10].cells.item(1).innerHTML;
  }
  if(monthR>=10){
    m11 = document.getElementById("tbl_users_list2").rows[11].cells.item(1).innerHTML;
  }
  if(monthR>=11){
    m12 = document.getElementById("tbl_users_list2").rows[12].cells.item(1).innerHTML;
  }
 
  bus = document.getElementById("tbl_users_list3").rows[1].cells.item(1).innerHTML;
  hel = document.getElementById("tbl_users_list3").rows[2].cells.item(1).innerHTML;
  ict = document.getElementById("tbl_users_list3").rows[3].cells.item(1).innerHTML;
  lit = document.getElementById("tbl_users_list3").rows[4].cells.item(1).innerHTML;
  mat = document.getElementById("tbl_users_list3").rows[5].cells.item(1).innerHTML;
  sin = document.getElementById("tbl_users_list3").rows[6].cells.item(1).innerHTML;
 


  new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: ["Scinece", "Health scinece", "Literature","Mathematics", "Business studies","I.C.T"],
      datasets: [
        {
          label: "Accessed members count",
          backgroundColor: ["#2ECC71", "#E08283","#9A12B3","#F22613","#65C6BB","#1F3A93"],
          data: [sin,hel,lit,mat,bus,ict,0]
        }
      ]
    },
    options: {
      legend: { display: false },
      title: {
        display: true,
        text: 'Subject access by members all time'
      }
    }
});
      
new Chart(document.getElementById("line-chart"), {
  type: 'line',
  data: {
    labels: ["January","February","March","Aprill","May","June","July","August","September","October","November","December"],
    datasets: [{ 
        data: [m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12],
        label: " Total profile created "+yearR,
        borderColor: "blue",
        fill: false
      }
    ]
  },
  options: {
    title: {
      display: true,
      text: 'Profiles Created'
    }
  }
});
        
   
// Bar chart


}




   




    </script>


</body>
</html>